type: vertical-stack
cards:
  - type: custom:layout-card
    layout_type: custom:grid-layout
    layout:
      grid-template-areas: |
        'c  .    n1  n2 n3 n4 n5 n6 n7 pi wb'
      grid-template-columns: 240px 50px repeat(7,1fr) 1fr 100px
      grid-template-rows: 75px
    style: |
      layout-card {
        border-bottom: 1px solid red;
      }
    card_mod: |
      style: |
        div {
              --test: 12345;
              --state-icon-active-color: rgb(9, 251, 213);
              --paper-item-icon-active-color: var(--state-icon-active-color);
              --state-icon-color: rgb(50,50,255);
              --paper-item-icon-color: var(--paper-item-icon-color);
            }  
    cards:
      - type: custom:simple-clock-card
        use_military: false
        font_size: 3rem
        hide_seconds: true
        view_layout:
          grid-area: c
      - type: custom:button-card
        icon_height: 24px;
        style: |
          * {color: var(--primary-color)}   
          ha-icon { height: 24px !important} 
          #name {
            border-bottom: 1px solid var(--primary-color);
          }
        tap_action:
          action: navigate
          navigation_path: /lovelace-wallboard/wall-panel?kiosk
        icon: mdi:sofa
        name: Living Room
        view_layout:
          grid-area: n1
      - type: custom:button-card
        icon_height: 24px;
        style: |
          * {color: var(--primary-color)}    
          ha-icon { height: 24px !important} 
          ha-card { background-color: transparent}
        tap_action:
          action: navigate
          navigation_path: /lovelace-wallboard/bedrooms?kiosk
        icon: mdi:bed
        name: Bedrooms
        view_layout:
          grid-area: n2
      - type: custom:button-card
        icon_height: 24px;
        style: |
          * {color: var(--primary-color)}
          ha-icon { height: 24px !important} 
        tap_action:
          action: navigate
          navigation_path: /lovelace-wallboard/calendar?kiosk
        icon: mdi:calendar
        name: Calendar
        view_layout:
          grid-area: n3
      - type: custom:button-card
        icon_height: 24px;
        style: |
          * {color: var(--primary-color)}    
          ha-icon { height: 24px !important}          
        tap_action:
          action: navigate
          navigation_path: /lovelace-wallboard/floor-plan?kiosk
        icon: mdi:home
        name: Floor Plan
        view_layout:
          grid-area: n4
      - type: custom:button-card
        icon_height: 24px;
        style: |
          * {color: var(--primary-color)}    
          ha-icon { height: 24px !important}          
        tap_action:
          action: navigate
          navigation_path: /lovelace-wallboard/led?kiosk&v=3
        icon: mdi:dots-horizontal-circle
        name: LED
        view_layout:
          grid-area: n5
      - type: custom:button-card
        icon_height: 24px;
        style: |
          * {color: var(--primary-color)}    
          ha-icon { height: 24px !important}          
        tap_action:
          action: navigate
          navigation_path: /lovelace-wallboard/wifi?kiosk
        icon: mdi:wifi
        name: WiFi
        view_layout:
          grid-area: n6
      - type: glance
        entities:
          - entity: sensor.processor_temperature
            name: ''
        view_layout:
          grid-area: pi
        style: >
          ha-card {margin-top: -50px; background-color: transparent; opacity:
          0.3; font-size: smaller}
      - type: glance
        entities:
          - entity: sensor.my_wall_panel_battery_level
            name: ''
        view_layout:
          grid-area: wb
        style: |
          ha-card {margin-top: -50px; background-color: transparent;}        
  - type: custom:layout-card
    layout_type: custom:grid-layout
    layout:
      grid-template-areas: |
        't   t   t    w    w   w    w   clr clr ck ck'
        't   t   t    w    w   w    w   clr clr ck ck'
        't   t   t    w    w   w    w   clr clr ck ck'
        'ld  ld  ld   lh   lh  lh   .   clb fl   ckb . '
        'llr llr llr  lk   lk  lk   lvf lvf fp  o  lfd'
      grid-template-columns: repeat(7,120px)  1fr 1fr 1fr 1fr
      grid-template-rows: repeat(6,126px)
    card_mod: |
      style: |
        div {
              --state-icon-active-color: rgb(9, 251, 213);
              --paper-item-icon-active-color: var(--state-icon-active-color);
              --state-icon-color: rgb(50,50,255);
              --paper-item-icon-color: var(--paper-item-icon-color);
            }  
    cards:
      - type: custom:simple-thermostat
        entity: climate.ecobee
        decimals: '0'
        header: false
        layout:
          step: column
          sensors:
            type: table
          mode:
            names: true
            icons: false
        sensors:
          - entity: sensor.ecobee_bedroom_temperature
            name: Bedroom
            decimals: 0
        step_size: '1'
        hide:
          state: true
        style: |
          ha-card {
            --st-font-size-xl: 24px;
            --st-font-size-m: 20px;
            --st-font-size-title: 0px;
            --st-font-size-sensors: 14px;
            --st-spacing: 2px;
            --heat_cool-color: green;
          }
        card_mod:
          style: |
            .mode-title { display: none}
            h3.current--value {
              background-color: hsl(0deg,70%,30%);
              border-radius: 9999px;
              display: block;
              color: white;
              padding: 14px;
              width: 60%;
              height: 50%;
              font-size: 24px;
              position: relative;
            }
            .current-wrapper:last-child h3.current--value {
              background-color: hsl(250deg,70%,30%) !important;
            }  
            .active.heat_cool {
              background-color: green !important;} 


            .current--value.updating {
              background-color: #4444;
              color: #ffffff;
            }
            .current--value.updating:after {
              content: '- - -';
              position: absolute;
              top: 30px;
              left: 0px;
              right: 0px;
              opacity: 0.7;
              font-size: 14px;
              border-radius: 99999px;
              background-color: transparent;
              color: white;
              text-align: center;
              animation: dots 1s  ease-in-out;
              animation-iteration-count: 15;
            }

            @keyframes dots {
              0% { transform: translate(-20px,0px);}
              50% { transform: translate(20px,0px);}
              100% { transform: translate(-20px,0px);}
            }

            ha-icon-button { position: relative; }
            ha-icon-button[icon="mdi:chevron-up"]:before {
              content: '^';
              position:absolute;
              left: 0%;
              right: 0%;
              margin-top: 1.5rem;
              font-size: 3rem;
              text-align: center;
              color: #777777;
            }
            ha-icon-button[icon="mdi:chevron-down"]:after {
              content: 'v';
              position:absolute;
              left: 0%;
              right: 0%;
              margin-top: 1.5rem;
              font-size: 2.1rem;
              text-align: center;
              color: #777777;
            }
            .modes.heading {
              grid-template-columns: 24% 24% 24% 24% !important;
              grid-auto-flow: unset;
            }
        view_layout:
          grid-area: t
      - type: custom:weather-card
        entity: weather.openweathermap
        secondary_info_attribute: humidity
        details: true
        icons: /local/community/weather-card/icons/
        view_layout:
          grid-area: w
      - type: custom:slider-button-card
        entity: light.kitchen_light
        name: Kitchen
        view_layout:
          grid-area: lk
        slider:
          direction: left-right
          background: gradient
          use_percentage_bg_opacity: true
          use_state_color: false
          show_track: true
          force_square: true
        action_button:
          mode: toggle
        icon:
          icon: hass:lightbulb
          show: true
          use_state_color: true
        compact: false
      - type: custom:slider-button-card
        entity: light.hall_light_light
        name: Hall
        view_layout:
          grid-area: lh
        slider:
          direction: left-right
          background: gradient
          use_percentage_bg_opacity: true
          use_state_color: false
          show_track: true
          force_square: true
        action_button:
          mode: toggle
        icon:
          icon: hass:lightbulb
          show: true
          use_state_color: true
        compact: false
      - type: custom:slider-button-card
        entity: light.living_room_light
        name: Living Room
        style: |
          ha-card  {background-color: transparent}
          ha-card .name {font-size: .9rem}
        view_layout:
          grid-area: llr
        slider:
          direction: left-right
          background: gradient
          use_percentage_bg_opacity: true
          use_state_color: false
          show_track: true
          force_square: true
        action_button:
          mode: toggle
        icon:
          icon: hass:lightbulb
          show: true
          use_state_color: true
        compact: false
      - type: custom:slider-button-card
        entity: light.floor_light
        name: Floor Lamp
        style: |
          ha-card  {background-color: transparent}
          ha-card .name {font-size: .9rem}
        view_layout:
          grid-area: llr
        slider:
          direction: left-right
          background: gradient
          use_percentage_bg_opacity: true
          use_state_color: false
          show_track: true
          force_square: true
        action_button:
          mode: toggle
        icon:
          icon: hass:lightbulb
          show: true
          use_state_color: false
        compact: false        
      - type: custom:slider-button-card
        entity: light.dining_light
        name: Dining
        view_layout:
          grid-area: ld
        slider:
          direction: left-right
          background: gradient
          use_percentage_bg_opacity: true
          use_state_color: true
          show_track: true
          force_square: true
        action_button:
          mode: toggle
        icon:
          icon: hass:lightbulb
          show: true
          use_state_color: true
        compact: false
      - type: custom:slider-button-card
        entity: cover.kitchen_window
        name: Kitchen Shade
        style: |
          :host {
            --state-color-on: black;
            --state-color-off: yellow;
            --label-text-shadow: 2px 2px #777777;
            --state-text-shadow: 2px 2px #777777;
            --ha-card-background:  var(--slider-color) ;
            --icon-color: rgba(255,0,0,0.5);
          }
          ha-card .state {
            color: #eeeeee !important;
          }

          .slider-bg {
            opacity: 0.4 !important;
            background-color: #444444  !important;

          }
          .slider-thumb::after {
            opacity: 1.0 !important;
            background-color: var(--slider-color)  !important;
          }

          .icon ha-icon {
            color: rgba(0,0,0,0.5) !important;
          }
        view_layout:
          grid-area: ck
        slider:
          direction: top-bottom
          background: custom
          use_percentage_bg_opacity: true
          use_state_color: false
          show_track: true
          force_square: false
          invert: true
        action_button:
          mode: toggle
          show: true
        icon:
          icon: hass:blinds
          show: true
          use_state_color: true
        compact: false
      - type: custom:slider-button-card
        entity: cover.living_room_window
        name: Living Room Shade
        style: |
          :host {
            --state-color-on: black;
            --state-color-off: yellow;
            --label-text-shadow: 2px 2px #777777;
            --state-text-shadow: 2px 2px #777777;
            --ha-card-background:  transparent;
            --icon-color: rgba(255,0,0,0.5);
          }
          ha-card .state {
            color: #eeeeee !important;
          }

          .slider-bg {
            opacity: 0.4 !important;
            background-color: #444444  !important;

          }
          .slider-thumb::after {
            opacity: 1.0 !important;
            background-color: var(--slider-color)  !important;
          }

          .icon ha-icon {
            color: rgba(0,0,0,0.5) !important;
          }
        view_layout:
          grid-area: clr
        slider:
          direction: top-bottom
          background: custom
          use_percentage_bg_opacity: false
          use_state_color: false
          show_track: true
          force_square: false
          invert: true
        action_button:
          mode: toggle
          show: true
        icon:
          icon: hass:blinds
          show: true
          use_state_color: true
        compact: false
      - type: vertical-stack
        style: |
          * {
            --ha-card-background: red;
            background-color: red !important;
          }      
        cards:
          - type: custom:html-template-card
            title: ''
            card_mod:
              style: |
                ha-card {
                  --ha-card-background: red !important; height: 4rem;
                  padding: 0px !important;
                }
                .: |
                  ha-card: {
                    padding: 0px !important;
                    --ha-card-background: red !important; height: 4rem;
                  }
            style: |
              ha-card {
                --ha-card-background: red; height: 4rem;
                padding: 0px !important;
              }
              ha-card {
                opacity: 0.0; padding: 0px !important;
                background-color: red !important;
                --ha-card-background: red;
              }
            ignore_line_breaks: true
            content: >
              <div style='position: absolute; left: 10px; top: -90px; opacity:
              0.7'>
                <ha-icon icon="mdi:battery" ></ha-icon><b>{{ (states('sensor.living_room_window_battery') | float * 100.0/87) | round(0)}}%</b>
              </div>
        view_layout:
          grid-area: clb
      - type: custom:html-template-card
        title: ''
        style: |
          ha-card: {
            opacity: 0.7;
          }
        view_layout:
          grid-area: ckb
        ignore_line_breaks: true
        content: |
          <div style='position: absolute; left: 10px; top: -90px; opacity: 0.7'>
            <ha-icon icon="mdi:battery" ></ha-icon><b>{{ (states('sensor.kitchen_window_battery') | float * 100.0/87) | round(0)}}%</b>
          </div>
      - type: custom:slider-button-card
        entity: switch.pulley_fan_switch_1
        name: Pulley Fan
        view_layout:
          grid-area: fp
        slider:
          direction: bottom-top
          background: solid
          use_percentage_bg_opacity: false
          use_state_color: false
          show_track: true
          force_square: true
          toggle_on_click: true
        action_button:
          mode: toggle
          show: true
        icon:
          icon: hass:fan
          show: true
          use_state_color: false
        compact: false
      - type: custom:slider-button-card
        entity: switch.lanai_fan_switch_1
        name: Lanai Fan
        view_layout:
          grid-area: fl
        slider:
          direction: bottom-top
          background: solid
          use_percentage_bg_opacity: false
          use_state_color: false
          show_track: true
          force_square: true
          toggle_on_click: true
        action_button:
          mode: toggle
          show: true
        icon:
          icon: hass:fan
          show: true
          use_state_color: false
        compact: false
      - type: custom:button-card
        name: Front Door
        entity: lock.front_door
        card_mod:
          style: |
            ha-card {
              height: 100%;
            }   
        icon: mdi:lock
        view_layout:
          grid-area: lfd
        color: rgb(28, 128, 199)
        state:
          - value: locked
            color: green
            icon: mdi:lock
          - value: unlocked
            color: null
            icon: mdi:lock-open-variant
        tap_action:
          action: call-service
          service: |
            [[[
              return (entity.state === 'locked') ? 'lock.unlock' : 'lock.lock';
            ]]]
          service_data:
            entity_id: lock.front_door
      - type: custom:button-card
        name: ' '
        label: |
          [[[
            'xxx'+html`<elt>on</elt>`
          ]]]
        custom_fields:
          state: |
            [[[
              if (states['sensor.snvr104582q_cook_mode'].state == 'Off') { 
                return html`<span style='position: absolute;left:50%;bottom: 0%; transform: translate(-50%,0)'>${states['sensor.snvr104582q_cook_mode'].state}</span>`
              }
              return html`<span style='position: absolute;left:4px;;top: 50%; max-width: 90%; white-space: break-spaces; background-color: rgba(0,0,0,0.4)'>${states['sensor.snvr104582q_cook_mode'].state}</span>`
            ]]]
          temp: |
            [[[
              if (states['sensor.snvr104582q_cook_mode'].state == 'Off') { return html``;}
              return html`<span style='position: absolute; left: 2px; top: 2px'>
                      ${entity.attributes.current_temperature}&deg;  <ha-icon icon="mdi:thermometer" style="width: 12px; height: 12px; color: red;"></ha-icon>
                      </span>`
            ]]]
        show_label: false
        entity: water_heater.snvr104582q_oven
        icon: mdi:stove
        view_layout:
          grid-area: o
        color: rgb(28, 128, 199)
        state:
          - value: 'on'
            color: red
            icon: mdi:fan
          - value: 'off'
            color: blue
            icon: mdi:lock-open-variant
        tap_action:
          action: more-info
        card_mod:
          style: |
            ha-card {
              height: 100%;
            }      
